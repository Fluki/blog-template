{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dev\\\\Documents\\\\GitHub\\\\blog-template\\\\src\\\\pages\\\\DeletePage.js\";\n//TODO refesh nakon delete\nimport React, { Component } from 'react';\nimport { BACKEND_URL } from '../constants.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass DeletePage extends Component {\n  constructor() {\n    super();\n    this.state = {\n      loaded: false,\n      deleted: false\n    };\n  }\n\n  componentDidMount() {\n    fetch(`${BACKEND_URL}`).then(response => response.json().then(data => this.setState({\n      loaded: true,\n      posts: data\n    })));\n  }\n\n  onDeleteClick(id) {\n    fetch(`${BACKEND_URL}/delete/${id}`).then(response => {\n      this.setState({\n        deleted: true\n      }, () => {\n        console.log(this.state);\n      });\n    });\n  }\n\n  render() {\n    if (this.state.loaded === false) {\n      return /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Component is loading\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 14\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: this.state.posts.map(post => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: post.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => this.onDeleteClick(post.id),\n              children: \"Delte Post\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this);\n    }\n  }\n\n}\n\nexport default DeletePage;","map":{"version":3,"sources":["C:/Users/Dev/Documents/GitHub/blog-template/src/pages/DeletePage.js"],"names":["React","Component","BACKEND_URL","DeletePage","constructor","state","loaded","deleted","componentDidMount","fetch","then","response","json","data","setState","posts","onDeleteClick","id","console","log","render","map","post","title"],"mappings":";AAAA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,SAASC,WAAT,QAA4B,iBAA5B;;;AAEA,MAAMC,UAAN,SAAyBF,SAAzB,CAAmC;AACjCG,EAAAA,WAAW,GAAG;AACZ;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,MAAM,EAAE,KADG;AAEXC,MAAAA,OAAO,EAAE;AAFE,KAAb;AAID;;AAEDC,EAAAA,iBAAiB,GAAG;AAClBC,IAAAA,KAAK,CAAE,GAAEP,WAAY,EAAhB,CAAL,CAAwBQ,IAAxB,CAA8BC,QAAD,IAC3BA,QAAQ,CAACC,IAAT,GAAgBF,IAAhB,CAAsBG,IAAD,IACnB,KAAKC,QAAL,CAAc;AACZR,MAAAA,MAAM,EAAE,IADI;AAEZS,MAAAA,KAAK,EAAEF;AAFK,KAAd,CADF,CADF;AAQD;;AAEDG,EAAAA,aAAa,CAACC,EAAD,EAAK;AAChBR,IAAAA,KAAK,CAAE,GAAEP,WAAY,WAAUe,EAAG,EAA7B,CAAL,CAAqCP,IAArC,CAA2CC,QAAD,IAAc;AACtD,WAAKG,QAAL,CAAc;AAAEP,QAAAA,OAAO,EAAE;AAAX,OAAd,EAAiC,MAAM;AACrCW,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKd,KAAjB;AACD,OAFD;AAGD,KAJD;AAKD;;AAEDe,EAAAA,MAAM,GAAG;AACP,QAAI,KAAKf,KAAL,CAAWC,MAAX,KAAsB,KAA1B,EAAiC;AAC/B,0BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;AACD,KAFD,MAEO;AACL,0BACE;AAAA,kBACG,KAAKD,KAAL,CAAWU,KAAX,CAAiBM,GAAjB,CAAsBC,IAAD,IAAU;AAC9B,8BACE;AAAA,oCACE;AAAA,wBAAKA,IAAI,CAACC;AAAV;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAQ,cAAA,OAAO,EAAE,MAAM,KAAKP,aAAL,CAAmBM,IAAI,CAACL,EAAxB,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF;AAQD,SATA;AADH;AAAA;AAAA;AAAA;AAAA,cADF;AAcD;AACF;;AA/CgC;;AAkDnC,eAAed,UAAf","sourcesContent":["//TODO refesh nakon delete\nimport React, { Component } from 'react';\n\nimport { BACKEND_URL } from '../constants.js';\n\nclass DeletePage extends Component {\n  constructor() {\n    super();\n    this.state = {\n      loaded: false,\n      deleted: false,\n    };\n  }\n\n  componentDidMount() {\n    fetch(`${BACKEND_URL}`).then((response) =>\n      response.json().then((data) =>\n        this.setState({\n          loaded: true,\n          posts: data,\n        })\n      )\n    );\n  }\n\n  onDeleteClick(id) {\n    fetch(`${BACKEND_URL}/delete/${id}`).then((response) => {\n      this.setState({ deleted: true }, () => {\n        console.log(this.state);\n      });\n    });\n  }\n\n  render() {\n    if (this.state.loaded === false) {\n      return <h1>Component is loading</h1>;\n    } else {\n      return (\n        <div>\n          {this.state.posts.map((post) => {\n            return (\n              <div>\n                <h1>{post.title}</h1>\n                <button onClick={() => this.onDeleteClick(post.id)}>\n                  Delte Post\n                </button>\n              </div>\n            );\n          })}\n        </div>\n      );\n    }\n  }\n}\n\nexport default DeletePage;\n"]},"metadata":{},"sourceType":"module"}