{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dev\\\\Documents\\\\GitHub\\\\blog-template\\\\src\\\\components\\\\SinglePost.js\";\nimport { Component } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass SinglePost extends Component {\n  constructor() {\n    super();\n    this.state = {\n      isLoaded: false,\n      isFailed: false,\n      deleted: false\n    }; // this.id = this.props.id;\n  }\n\n  componentDidMount() {\n    fetch(`http://localhost:5000/blogs/${this.props.id}`).then(response => {\n      response.json().then(data => {\n        // vraca niz sa jedim elementom\n        if (data.length === 0) {\n          this.setState({\n            isFailed: true\n          });\n        } else {\n          this.setState({\n            isLoaded: true,\n            post: data[0]\n          });\n        }\n      });\n    }).catch(err => {\n      this.setState({\n        isFailed: true\n      });\n      console.log(err);\n    });\n  }\n\n  delete() {\n    fetch(`http://localhost:5000/delete/${this.props.id}`).then(response => {\n      this.setState({\n        deleted: true\n      }, () => {\n        console.log(this.state);\n      });\n    });\n  }\n\n  render() {\n    if (this.state.deleted === true) {\n      return /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \" Post was successfully deleted \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 14\n      }, this);\n    }\n\n    if (this.state.isFailed === true) {\n      return /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \" Error, page not found \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 14\n      }, this);\n    }\n\n    if (this.state.isLoaded === false) {\n      return /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Component is loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 14\n      }, this);\n    } else {\n      return (\n        /*#__PURE__*/\n        // Dodati laoding state i upisati post u state\n        _jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"post\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: this.state.post.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"contentWrap\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: this.state.post.image,\n                alt: 'log',\n                id: \"img\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                id: \"content\",\n                children: this.state.post.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => this.delete(),\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 9\n        }, this)\n      );\n    } // console.log(\"Post id ->\", this.props.id);\n\n  }\n\n}\n\nexport default SinglePost;","map":{"version":3,"sources":["C:/Users/Dev/Documents/GitHub/blog-template/src/components/SinglePost.js"],"names":["Component","SinglePost","constructor","state","isLoaded","isFailed","deleted","componentDidMount","fetch","props","id","then","response","json","data","length","setState","post","catch","err","console","log","delete","render","title","image","description"],"mappings":"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","sourcesContent":["import { Component } from 'react';\r\n\r\nclass SinglePost extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      isLoaded: false,\r\n      isFailed: false,\r\n      deleted: false,\r\n    };\r\n    // this.id = this.props.id;\r\n  }\r\n\r\n  componentDidMount() {\r\n    fetch(`http://localhost:5000/blogs/${this.props.id}`)\r\n      .then((response) => {\r\n        response.json().then((data) => {\r\n          // vraca niz sa jedim elementom\r\n          if (data.length === 0) {\r\n            this.setState({ isFailed: true });\r\n          } else {\r\n            this.setState({\r\n              isLoaded: true,\r\n              post: data[0],\r\n            });\r\n          }\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        this.setState({ isFailed: true });\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  delete() {\r\n    fetch(`http://localhost:5000/delete/${this.props.id}`).then((response) => {\r\n      this.setState({ deleted: true }, () => {\r\n        console.log(this.state);\r\n      });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.deleted === true) {\r\n      return <h1> Post was successfully deleted </h1>;\r\n    }\r\n\r\n    if (this.state.isFailed === true) {\r\n      return <h1> Error, page not found </h1>;\r\n    }\r\n\r\n    if (this.state.isLoaded === false) {\r\n      return <h1>Component is loading...</h1>;\r\n    } else {\r\n      return (\r\n        // Dodati laoding state i upisati post u state\r\n\r\n        <div>\r\n          <div id=\"post\">\r\n            <h1>{this.state.post.title}</h1>\r\n            <span className=\"contentWrap\">\r\n              <img src={this.state.post.image} alt={'log'} id=\"img\" />\r\n              <p id=\"content\">{this.state.post.description}</p>\r\n            </span>\r\n          </div>\r\n          <button onClick={() => this.delete()}>Delete</button>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    // console.log(\"Post id ->\", this.props.id);\r\n  }\r\n}\r\n\r\nexport default SinglePost;\r\n"]},"metadata":{},"sourceType":"module"}